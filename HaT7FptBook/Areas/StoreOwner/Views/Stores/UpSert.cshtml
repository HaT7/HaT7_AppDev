@model HaT7FptBook.Models.Store
@using HaT7FptBook.Menu
@inject AdminSidebarService _AdminSidebarService

@{
    ViewBag.Title = "Store";
    Layout =  "/Views/Shared/_LayoutStoreOwner.cshtml";
    var title = Model.Id == 0 ? "Create Store" : "Edit Store";
}

<h2 class="text-center">@title</h2>

@if (Model.Id == 0)
{
    <form method="post">
        <partial name="_StatusMessenger" model="@ViewData["Message"]"/>
        <input asp-for="Id" hidden/>
        <div class="form-group">
            <label asp-for="Name"></label>
            <input asp-for="Name" class="form-control">
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>

        <div class="row">
            <div class="col">
                <button type="submit" class="btn btn-primary form-control">Submit</button>
            </div>
            <div class="col">
                <a asp-action="Index" class="btn btn-danger form-control">Cancel</a>
            </div>
        </div>
    </form>
}
else
{
    <form method="post">
        <partial name="_StatusMessenger" model="@ViewData["Message"]"/>
        <input asp-for="Id" hidden/>
        <div class="form-group">
            <label asp-for="Name"></label>
            <input asp-for="Name" class="form-control">
            <span asp-validation-for="Name" class="text-danger"></span>
        </div>

        <div class="row">
            <div class="col">
                <button type="submit" class="btn btn-primary form-control">Submit</button>
            </div>
            <div class="col">
                <a asp-action="Index" class="btn btn-danger form-control">Cancel</a>
            </div>
        </div>
    </form>
    
    <div class="mt-5">
        <h2>Other options</h2>
        <div class="d-flex mt-2">
            <h6 class="col-2 pl-0 pt-1 mb-0">Delete your Store</h6>
            <a asp-controller="Stores" asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger" onclick="return confirm('Do you want delete this item?')">Delete</a>
        </div>
    </div> 
}

@section Sidebar
{
    @Html.Raw(_AdminSidebarService.renderHtml())
}
