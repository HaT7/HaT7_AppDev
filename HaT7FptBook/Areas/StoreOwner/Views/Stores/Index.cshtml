@model IList<HaT7FptBook.Models.Store>
@using HaT7FptBook.Menu
@inject AdminSidebarService _AdminSidebarService

@{
    Layout = "/Views/Shared/_LayoutStoreOwner.cshtml";
    ViewData["Title"] = "Store Owner Control Panel";
}

<partial name="_StatusMessenger" model="@ViewData["Message"]"/>
@if (Model.Any())
{
    @foreach (var store in @Model)
    {
        <div>
            <h1 class="text-center font-weight-bold">@store.Name Book Store</h1>
        </div>

        <div>
            <div class="row mb-2">
                <div class="col-3">
                    <h5>Edit your store information</h5>
                </div>

                <div class="col">
                    <a class="btn btn-info" asp-controller="Stores" asp-action="UpSert" asp-route-id="@store.Id">Edit</a>
                </div>
            </div>

            <div class="row mb-2">
                <div class="col-3">
                    <h5>Delete your store</h5>
                </div>

                <div class="col">
                    <a class="btn btn-info"
                       asp-controller="Stores"
                       asp-action="Delete"
                       asp-route-id="@store.Id"
                       onclick="return confirm('Do you want delete this item?')">
                        Delete
                    </a>
                </div>
            </div>
        </div>
    }
}
else
{
    <h3 class="text-center">Create your own store now</h3>
    <div class="text-center">
        <a asp-controller="Stores" asp-action="UpSert" class="btn btn-primary">Create new Store</a>
    </div>
}

@{
    _AdminSidebarService.SetActive("Stores", "Index", "StoreOwner");
}

@section Sidebar
{
    @Html.Raw(_AdminSidebarService.renderHtml())
}