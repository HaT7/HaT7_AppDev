@model IEnumerable<HaT7FptBook.Models.OderDetail>
@using HaT7FptBook.Menu
@inject AdminSidebarService _AdminSidebarService

@{
    Layout =  "/Views/Shared/_LayoutStoreOwner.cshtml";
    ViewData["Title"] = "Order Detail";
}

<table style="width: 100%">
    <thead>
    <tr>
        <th>Image</th>
        <th>Product Name</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Total</th>
    </tr>
    </thead>

    @{
        double sum = 0;
    }
    
    @foreach (var order in @Model)
    {
        <tr>
            <td>
                <img src="@order.Book.ImageUrl" class="card-img-top rounded" style="width: 200px"/>
            </td>
            <td>@order.Book.Title</td>
            <td>@order.Book.Price</td>
            <td>@order.Quantity</td>
            @{
                var total = @order.Book.Price * @order.Quantity;
                sum += total;
            }
            <td>@total</td>
        </tr>
    }
    <tr>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td>Total: @sum</td>
    </tr>
</table>

@{
    _AdminSidebarService.SetActive("Orders", "Index", "StoreOwner");
}

@section Sidebar
{
    @Html.Raw(_AdminSidebarService.renderHtml())
}